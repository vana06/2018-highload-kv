## Before

Put https://overload.yandex.net/141426

Get https://overload.yandex.net/141524

Put+Get https://overload.yandex.net/141393

## After

Put https://overload.yandex.net/136794

Get https://overload.yandex.net/136796

Put+Get https://overload.yandex.net/136906

#### Profiler files
https://drive.google.com/drive/folders/1Tyejr7cLYf2NUp9wJHzv_xvjQCWNYrjy?usp=sharing

## Проведенные оптимизации

* Логирование теперь выполняется асинхронно, в отдельном потоке. Все
данные записываются в файл, а не выводятся на консоль.

* Добавил многопоточность на стороне сервера. Каждый запрос выполняется в 
отдельном потоке. 

## Неудачные попытки отптимизации

* Пытался оптимизировать MapDB. Создал два экземпляра хранилища: одно в памяти,
другое на диске. При достижении определенных размеров данные из памяти сбрасывались
на диск, но к сожалению эффекта не было. Возможно я плохо разобрался в настройках.

* Использовал HttpClient от Apache. Он очень гибкий и имеет много кофигураций, 
но для текщей задачи более производительным оказался HttpClient из One-Nio.

* Попробовал изначально выделить для каждого кластера место под базу в размере
1 Гб и увеличил размер выделения памяти с 1 Мб (по умолчанию) на 128 Мб. Эффекта
не было. Хуже не стало, но и не лучше.

## Итог

Получилось оптимизировать сервер при GET запросах. Производительность
PUT запросов улучшилась не сильно (малая пропускная способность по сравнению
с GET). В целом основной профит от оптимизаций был достигнут благодаря 
асинхронному логированию. Многопоточность тоже сыграла свою роль в 
оптимизации, но не столь значительную как ожидалось.
